# BetterE-class

**同志社大学e-class用の非公式Chrome拡張機能**

[![License: MIT](https://img.shields.io/badge/License-MIT-blue.svg)](LICENSE)

---

## 🎯 概要

BetterE-classは、同志社大学のe-class（WebClass）をより快適に使えるようにする**非公式**のChrome拡張機能です。ファイルをダウンロードせずにブラウザで直接閲覧したり、新しいタブで開いたり、メッセージツールを使いやすくしたりと、日々のe-class利用を便利にします。

> **⚠️ 注意**: この拡張機能は同志社大学および公式e-classシステムとは一切関係のない、個人が開発した非公式ツールです。

## ✨ 主な機能

### ファイル閲覧機能
- **📄 ブラウザで直接閲覧**: レポートファイルをダウンロードせずにブラウザ上で表示
- **🆕 新しいタブで開く**: レポートファイルを自動的に新しいタブで表示
- **📚 教科書ダウンロードボタン**: 教科書ページに「ダウンロード」「名前を付けて保存」「プレビュー」ボタンを追加
- **🚫 ポップアップ防止**: 添付資料を新しいタブで開く（ポップアップウィンドウを防止）

### メッセージ機能
- **💬 タブでメッセージを開く**: メッセージツールをポップアップウィンドウではなく通常のタブで開く
- **✅ 一括既読機能**: ワンクリックですべてのメッセージを既読にできる便利なボタン

### 締切・課題管理
- **⚠️ 締切警告の強調表示**: 締切が近い課題を目立つ赤色でハイライト
- **📋 締切課題リスト**: 締切が近い課題をサイドバーで一覧表示
- **📌 科目のピン留め**: よく使う科目をピン留めして素早くアクセス

### 時間割カスタマイズ
- **🗓️ 土曜日を非表示**: 時間割表の土曜日列を非表示（設定で切替可能）
- **⏰ 6・7限を非表示**: 6限と7限の行を非表示（設定で切替可能）
- **📦 セクション折りたたみ**: お知らせ、時間割、科目リストを折りたたんでスペース節約

### その他の機能
- **🏠 E-classトップボタン**: コースページからトップページへ素早く戻るボタン
- **🚀 フッターブランディング**: ページ下部にBetterE-classのバージョン表示（クリックでGitHubへ）

## 📦 インストール方法

### 一般ユーザー向け（推奨）

1. [**リリースページ**](https://github.com/kmch4n/BetterE-class/releases)から最新版をダウンロード
2. ダウンロードしたZIPファイルを解凍
3. Chromeで `chrome://extensions/` を開く
4. 右上の **デベロッパーモード** をオンにする
5. **パッケージ化されていない拡張機能を読み込む** をクリック
6. 解凍した `extension` フォルダを選択

### 開発者向け

```bash
git clone https://github.com/kmch4n/BetterE-class.git
cd BetterE-class
```

その後、上記「一般ユーザー向け」の手順3〜6を実行し、`extension` フォルダを選択してください。

## 🚀 使い方

### 基本的な使い方

#### レポートファイルの閲覧
1. e-classにログイン
2. コースページから **提出済みレポート** を開く
3. ファイル名をクリック
4. **ファイルが新しいタブで表示されます**（ダウンロード不要！）

#### 教科書ファイルのダウンロード
1. 教科書ページを開く
2. 各章の横に表示される「ダウンロード」「名前を付けて保存」「プレビュー」ボタンを使用
3. **添付資料リンクも新しいタブで開きます**（ポップアップウィンドウは出ません）

#### メッセージの一括既読
1. メッセージページを開く
2. 「✓ すべて既読にする」ボタンをクリック
3. すべてのメッセージが一度に既読になります

### 設定のカスタマイズ

拡張機能アイコンをクリックすると、時間割表示に関する設定を変更できます：

| 設定項目 | 説明 | デフォルト |
|---------|------|----------|
| **土曜日を非表示** | 時間割表の土曜日列を非表示 | ❌ オフ |
| **6・7限を非表示** | 6限と7限の行を非表示 | ❌ オフ |

**その他の機能はすべてデフォルトで有効**になっています。設定は自動的に保存され、リアルタイムで反映されます。

## 🔧 高度な機能

### 締切課題リスト
科目一覧ページのサイドバーに、締切が近い課題がある科目を整理して一覧表示するウィジェットが表示されます。締切日時と残り時間が一目でわかります。

### 科目のピン留め
科目リンクにマウスを合わせると、ピン留めボタン（📍）が表示されます。クリックすることで、よく使う科目を専用のウィジェットに固定して素早くアクセスできます。ピン留めした科目はブラウザを閉じても保持されます。

### セクションの折りたたみ
科目一覧ページで、以下のセクションは見出しをクリックすることで折りたたみ・展開ができます：
- 管理者からのお知らせ
- 時間割表
- その他の科目リスト
- 学期フィルター

これにより、画面のスクロールを減らし、必要な情報に素早くアクセスできます。

### E-classトップボタン
コースページの「トップへ戻る」ボタンの隣に、「E-class Top」ボタンが追加されます。クリックすると、e-classのトップページ（科目一覧）に素早く戻ることができます。

### フッターブランディング
すべてのe-classページの下部に、「🚀 BetterE-class (version)」というリンクが表示されます。クリックすると、このGitHubリポジトリが開きます。

## 🛠️ 技術仕様

### 対応環境
- **ブラウザ**: Google Chrome（Manifest V3対応）
- **対象システム**: 同志社大学e-class（WebClass）

### アーキテクチャ
- Manifest V3ベースのChrome拡張機能
- Content Scriptsによるページ操作
- declarativeNetRequestによるHTTPヘッダー操作
- Chrome Storage APIによる設定の永続化

### セキュリティとプライバシー
- **データの外部送信なし**: すべての処理はブラウザ内で完結
- **データの外部保存なし**: 設定はChromeのローカルストレージに保存
- **HTTPヘッダー操作のみ**: Content-Dispositionヘッダーの変更のみを行い、他のデータは一切変更しません

## ⚠️ 注意事項・免責事項

- **非公式ツール**: この拡張機能は同志社大学および公式e-classシステムとは一切関係のない、個人開発の非公式ツールです
- **対象システム**: 同志社大学のe-classシステム専用です。他の大学のシステムでは動作しません
- **動作保証なし**: e-classシステムの仕様変更により、予告なく動作しなくなる可能性があります
- **免責**: この拡張機能の使用によって生じたいかなる損害についても、作者は一切の責任を負いません
- **自己責任**: 使用は自己責任でお願いします

## 📄 ライセンス

このプロジェクトはMITライセンスの下で公開されています。詳細は [LICENSE](LICENSE) ファイルをご覧ください。

## 🤝 コントリビューション

バグ報告や機能リクエストは、[Issues](https://github.com/kmch4n/BetterE-class/issues)ページからお願いします。

---

**Made by kmch4n**
